<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ‘‘ ÙƒØ´Ùƒ ÙÙ„Ø§ÙÙ„ Ø§Ù„Ø¨ÙŠÙƒ - Ø§Ù„Ø­ÙˆØ¨Ø§Ù†</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #D32F2F; --secondary: #FFC107; --bg: #F9FAFB;
            --card-bg: #FFFFFF; --text: #1F2937; --text-light: #6B7280;
            --green: #10B981; --kurimi: #00695c; --border-color: #E5E7EB;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Tajawal', sans-serif; background-color: var(--bg); margin: 0; padding-bottom: 220px; color: var(--text); }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        #loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--primary); z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; transition: 0.5s; }

        header {
            background: var(--card-bg); padding: 25px 15px; text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05); border-bottom: 4px solid var(--primary); border-radius: 0 0 30px 30px;
        }
        .logo-area img { width: 90px; height: 90px; border-radius: 50%; border: 3px solid var(--secondary); background: white; object-fit: cover; }

        /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¹Ø±Ø¨Ø© ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ */
        #cart-notif { position: absolute; left: 20px; top: 30px; font-size: 24px; cursor: pointer; }
        #badge { position: absolute; top: -10px; right: -10px; background: var(--primary); color: white; border-radius: 50%; padding: 2px 7px; font-size: 12px; display: none; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-container { background: #e0e0e0; border-radius: 10px; height: 10px; margin: 10px 0; overflow: hidden; }
        #bar { background: linear-gradient(90deg, var(--secondary), var(--green)); width: 0%; height: 100%; transition: 0.5s; }

        .menu-grid { padding: 15px; display: grid; gap: 15px; }
        .menu-item { background: var(--card-bg); border-radius: 20px; padding: 10px; display: flex; align-items: center; border: 1px solid var(--border-color); box-shadow: 0 4px 10px rgba(0,0,0,0.03); }
        .menu-item img { width: 85px; height: 85px; border-radius: 15px; object-fit: cover; margin-left: 15px; background: #f0f0f0; }

        .cart-bar { position: fixed; bottom: 0; width: 100%; background: var(--card-bg); padding: 15px 20px; border-radius: 30px 30px 0 0; box-shadow: 0 -10px 30px rgba(0,0,0,0.1); z-index: 2000; }
        .action-btn { width: 100%; padding: 16px; border: none; border-radius: 15px; background: var(--green); color: white; font-size: 1.1rem; font-weight: 900; cursor: pointer; }
        
        @keyframes bounce { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }
        .animate-cart { animation: bounce 0.4s ease; }
    </style>
</head>
<body>

    <div id="loader"><h2>Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¨ÙŠÙƒ... ğŸ‘‘</h2></div>

    <header>
        <div id="cart-notif">ğŸ›’<span id="badge">0</span></div>
        <div class="logo-area">
            <img src="https://pbs.twimg.com/media/GfG9G4eWMAAn-sD?format=jpg&name=small" alt="Ø§Ù„Ø¨ÙŠÙƒ">
        </div>
        <h1 style="margin: 10px 0 0; font-size: 1.4rem;">ÙÙ„Ø§ÙÙ„ ÙˆØ·Ø¹Ù…ÙŠØ© Ø§Ù„Ø¨ÙŠÙƒ ğŸ‘‘</h1>
        <p style="margin: 0; font-size: 0.8rem; color: var(--text-light);">ØªØ¹Ø² - Ø§Ù„Ø­ÙˆØ¨Ø§Ù†</p>
    </header>

    <div id="menu-list" class="menu-grid"></div>

    <div class="cart-bar">
        <div id="gift-info" style="font-size: 0.8rem; font-weight: bold; text-align: center; margin-bottom: 5px;">Ø£Ø¶Ù ÙˆØ¬Ø¨Ø§Øª Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‡Ø¯ÙŠØ©! ğŸ</div>
        <div class="progress-container"><div id="bar"></div></div>
        <div style="display:flex; justify-content:space-between; margin-bottom:10px; font-weight:900;">
            <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
            <span id="grand-total" style="color:var(--primary)">0 Ø±ÙŠØ§Ù„</span>
        </div>
        <button id="main-btn" class="action-btn" onclick="openOrderModal()" disabled>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© ğŸ›’</button>
    </div>

<script>
    // ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ù„ØªÙƒÙˆÙ† Ø±ÙˆØ§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø© (Direct Links) Ù„ØªØ¹Ù…Ù„ ÙÙˆØ±Ø§Ù‹
    const menu = [
        { id: 1, name: "Ø³Ø§Ù†Ø¯ÙˆÙŠØªØ´ ÙÙ„Ø§ÙÙ„ Ø·Ø¹Ù…ÙŠØ©", price: 100, img: "https://pbs.twimg.com/media/GfG9G4eWMAAn-sD?format=jpg&name=small" },
        { id: 2, name: "Ø³Ø§Ù†Ø¯ÙˆÙŠØªØ´ ÙÙ„Ø§ÙÙ„ Ø¨ÙŠØ¶", price: 150, img: "https://pbs.twimg.com/media/GfG88kXWMAA-x-Z?format=jpg&name=small" },
        { id: 3, name: "Ø¨Ø·Ø§Ø·Ø³ Ù…Ù‚Ø±Ù…Ø´Ø©", price: 400, img: "https://pbs.twimg.com/media/GfG9G4eWMAAn-sD?format=jpg&name=small" },
        { id: 4, name: "Ø§Ù„ÙˆØ¬Ø¨Ø© Ø§Ù„Ù…Ù„ÙƒÙŠ (ÙÙ„Ø§ÙÙ„ ÙˆØ¨Ø·Ø§Ø·Ø³)", price: 500, img: "https://pbs.twimg.com/media/GfK_T66WMAA-7tJ?format=jpg&name=small" },
        { id: 5, name: "Ø³ÙÙ† Ø£Ø¨ (Ø£Ø¨Ùˆ 200)", price: 200, img: "https://pbs.twimg.com/media/GfK_T66WMAA-7tJ?format=jpg&name=small" },
        { id: 6, name: "Ù‚ÙˆØ© Ø£Ø³Ø¯ ØµØºÙŠØ± (Ø£Ø¨Ùˆ 100)", price: 100, img: "https://pbs.twimg.com/media/GfK_T66WMAA-7tJ?format=jpg&name=small" },
        { id: 7, name: "Ù…Ø´Ø±ÙˆØ¨ Ø£Ø³Ø¯ ÙƒØ¨ÙŠØ± (Ø£Ø¨Ùˆ 200)", price: 200, img: "https://pbs.twimg.com/media/GfK5L66WMAA-5tJ?format=jpg&name=small" }
    ];

    let cart = {};

    window.onload = () => {
        setTimeout(() => document.getElementById('loader').style.display='none', 1000);
        render();
    };

    function render() {
        const list = document.getElementById('menu-list');
        list.innerHTML = '';
        menu.forEach(item => {
            const q = cart[item.id] || 0;
            list.innerHTML += `
                <div class="menu-item">
                    <img src="${item.img}" onerror="this.src='https://cdn-icons-png.flaticon.com/512/706/706164.png'">
                    <div style="flex:1">
                        <h4 style="margin:0">${item.name}</h4>
                        <div style="color:var(--primary); font-weight:bold;">${item.price} Ø±ÙŠØ§Ù„</div>
                    </div>
                    <div style="display:flex; align-items:center; gap:8px;">
                        <button onclick="updateQty(${item.id},-1)" style="border:1px solid #ddd; background:none; border-radius:5px; width:25px;">-</button>
                        <b>${q}</b>
                        <button onclick="updateQty(${item.id},1)" style="border:none; background:var(--primary); color:white; border-radius:5px; width:25px;">+</button>
                    </div>
                </div>`;
        });
    }

    function updateQty(id, amt) {
        cart[id] = (cart[id] || 0) + amt;
        if(cart[id] <= 0) delete cart[id];
        if(navigator.vibrate) navigator.vibrate(20);
        updateUI();
        render();
    }

    function updateUI() {
        let total = 0, count = 0;
        Object.keys(cart).forEach(id => {
            const item = menu.find(m => m.id == id);
            total += item.price * cart[id];
            count += cart[id];
        });

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ù„ÙˆÙŠ
        const badge = document.getElementById('badge');
        if(count > 0) {
            badge.innerText = count; badge.style.display = 'block';
            document.getElementById('cart-notif').classList.add('animate-cart');
            setTimeout(() => document.getElementById('cart-notif').classList.remove('animate-cart'), 400);
        } else { badge.style.display = 'none'; }

        // Ø´Ø±ÙŠØ· Ø§Ù„Ù‡Ø¯ÙŠØ©
        const bar = document.getElementById('bar');
        const giftText = document.getElementById('gift-info');
        let perc = (total / 4000) * 100;
        bar.style.width = Math.min(perc, 100) + "%";

        if(total >= 4000) giftText.innerHTML = "âœ¨ Ù‡Ø¯ÙŠØ©: Ù…Ø´Ø±ÙˆØ¨ Ø£Ø¨Ùˆ 200 Ù…Ø¬Ø§Ù†Ø§Ù‹! âœ¨";
        else if(total >= 3000) giftText.innerHTML = "ğŸ Ù‡Ø¯ÙŠØ©: Ù…Ø´Ø±ÙˆØ¨ Ø£Ø¨Ùˆ 100 Ù…Ø¬Ø§Ù†Ø§Ù‹! ğŸ";
        else giftText.innerHTML = `Ø¨Ø§Ù‚ÙŠ ${3000 - total} Ø±ÙŠØ§Ù„ Ù„Ù„Ù‡Ø¯ÙŠØ© ğŸ`;

        document.getElementById('grand-total').innerText = total + " Ø±ÙŠØ§Ù„";
        const btn = document.getElementById('main-btn');
        btn.disabled = total === 0;
        btn.innerHTML = total === 0 ? "Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© ğŸ›’" : `Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ (${total} Ø±ÙŠØ§Ù„) ğŸš€`;
    }

    function openOrderModal() {
        let name = prompt("Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ±ÙŠÙ…:");
        let phone = prompt("Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨:");
        if(name && phone) {
            let total = 0, msg = `*ğŸ§¾ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„Ø¨ÙŠÙƒ*\n*Ø§Ù„Ø§Ø³Ù…:* ${name}\n*Ø§Ù„Ù‡Ø§ØªÙ:* ${phone}\n*Ø§Ù„Ø·Ù„Ø¨Ø§Øª:*\n`;
            Object.keys(cart).forEach(id => {
                const item = menu.find(m => m.id == id);
                msg += `â€¢ ${cart[id]}x ${item.name}\n`;
                total += item.price * cart[id];
            });
            let gift = total >= 4000 ? "Ù…Ø´Ø±ÙˆØ¨ Ø£Ø¨Ùˆ 200" : (total >= 3000 ? "Ù…Ø´Ø±ÙˆØ¨ Ø£Ø¨Ùˆ 100" : "Ù„Ø§ ÙŠÙˆØ¬Ø¯");
            msg += `*-----------------*\n*Ø§Ù„Ù‡Ø¯ÙŠØ©:* ${gift}\n*Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:* ${total} Ø±ÙŠØ§Ù„`;
            window.open(`https://wa.me/967733971941?text=${encodeURIComponent(msg)}`);
        }
    }
</script>
</body>
</html>
